<html>

<head>
  <title>Source Backend Demo</title>
</head>

<body>
  <h1>Source Plugin Demo with Backend</h1>
  <div id='placeholder'></div>
  <h2>About</h2>
  <p>This backend_demo.html loads backend_demo_plugin.html and emulates the Source
    application, responding to the initial 'hello' message, and passing context and
    tokens to the iframe.</p>

  <p>The backend_demo_plugin.html file demonstrates how a frame plugin works
    within the Source web application. The plugin javascript does the following:

  <ol>
    <li>
      Subscribe to context updates from the parent window, which will
      trigger us to call a demo backend.
    </li>
    <li>
      Call <code>SourceBridge.init()</code> to kick off the required
      handshake with the parent window.
    </li>
    <li>
      When we have received context, we call into a demo backend and display
      the response in the div above.
    </li>
  </ol>
  The demo backend (in this same codebase) has two functions:
  <ol>
    <li>Dispense a Source application token to the parent window (using a
      hardcoded application key pair).</li>
    <li> Handle a request from the iframe
      with the application token, verify the token, and echo the claims of the
      token. </li>
  </ol>
  </p>
  <script type='module' src='./src/web/parent.ts'></script>
</body>

</html>
